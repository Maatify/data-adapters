{
  "phases": [
    {
      "phase": "phase1",
      "version": "2.0.0",
      "description": "Initial contract validation phase. No real adapters or factories are exposed.",
      "public_api": {
        "Maatify\\Common\\Contracts\\Adapter\\AdapterInterface": {
          "type": "interface",
          "origin": "external",
          "package": "maatify/common",
          "docblock": {
            "template": "TDriver of object"
          },
          "methods": {
            "getDriver": {
              "visibility": "public",
              "return_type": "object",
              "docblock_return": "TDriver",
              "arguments": [],
              "notes": [
                "Returns the owned driver instance",
                "No runtime metadata",
                "No API unification"
              ]
            }
          }
        },
        "Maatify\\DataAdapters\\TestDoubles\\DummyAdapter": {
          "type": "class",
          "origin": "internal",
          "visibility": "public",
          "purpose": "Contract verification only (Phase 1 test double)",
          "implements": [
            "Maatify\\Common\\Contracts\\Adapter\\AdapterInterface<object>"
          ],
          "constructor": {
            "visibility": "public",
            "arguments": [
              {
                "name": "driver",
                "type": "object"
              }
            ]
          },
          "methods": {
            "getDriver": {
              "visibility": "public",
              "return_type": "object",
              "arguments": [],
              "notes": [
                "Returns the injected driver instance",
                "No side effects",
                "Used only for contract testing"
              ]
            }
          }
        }
      },
      "explicitly_absent": [
        "Factories",
        "Configuration DTOs",
        "MySQL adapters",
        "Redis adapters",
        "MongoDB adapters",
        "Environment handling",
        "Runtime logic"
      ]
    },
    {
      "phase": "phaseE",
      "version": "2.0.0",
      "public_api": {
        "Maatify\\DataAdapters\\Adapters\\MySQL\\MySQLPDOAdapter": {
          "type": "class",
          "implements": [
            "Maatify\\DataAdapters\\Contracts\\Adapter\\AdapterInterface<PDO>"
          ],
          "constructor": [
            {
              "name": "driver",
              "type": "PDO"
            }
          ],
          "methods": {
            "getDriver": {
              "visibility": "public",
              "return_type": "object"
            }
          }
        },
        "Maatify\\DataAdapters\\Adapters\\MySQL\\MySQLDBALAdapter": {
          "type": "class",
          "implements": [
            "Maatify\\DataAdapters\\Contracts\\Adapter\\AdapterInterface<Doctrine\\DBAL\\Connection>"
          ],
          "constructor": [
            {
              "name": "driver",
              "type": "Doctrine\\DBAL\\Connection"
            }
          ],
          "methods": {
            "getDriver": {
              "visibility": "public",
              "return_type": "object"
            }
          }
        },
        "Maatify\\DataAdapters\\Adapters\\Redis\\RedisAdapter": {
          "type": "class",
          "implements": [
            "Maatify\\DataAdapters\\Contracts\\Adapter\\AdapterInterface<Redis>"
          ],
          "constructor": [
            {
              "name": "driver",
              "type": "Redis"
            }
          ],
          "methods": {
            "getDriver": {
              "visibility": "public",
              "return_type": "object"
            }
          }
        },
        "Maatify\\DataAdapters\\Adapters\\Redis\\RedisPredisAdapter": {
          "type": "class",
          "implements": [
            "Maatify\\DataAdapters\\Contracts\\Adapter\\AdapterInterface<Predis\\Client>"
          ],
          "constructor": [
            {
              "name": "driver",
              "type": "Predis\\Client"
            }
          ],
          "methods": {
            "getDriver": {
              "visibility": "public",
              "return_type": "object"
            }
          }
        },
        "Maatify\\DataAdapters\\Adapters\\Mongo\\MongoDatabaseAdapter": {
          "type": "class",
          "implements": [
            "Maatify\\DataAdapters\\Contracts\\Adapter\\AdapterInterface<MongoDB\\Database>"
          ],
          "constructor": [
            {
              "name": "driver",
              "type": "MongoDB\\Database"
            }
          ],
          "methods": {
            "getDriver": {
              "visibility": "public",
              "return_type": "object"
            }
          }
        }
      }
    },
    {
      "version": "2.0.0",
      "package": "maatify/data-adapters",

      "public_api": {
        "interfaces": {
          "Maatify\\Common\\Contracts\\Adapter\\AdapterInterface": {
            "origin": "maatify/common",
            "type": "interface",
            "template": "TDriver of object",
            "methods": {
              "getDriver": {
                "visibility": "public",
                "args": [],
                "return": "object",
                "docblock_return": "TDriver",
                "notes": [
                  "Returns the owned concrete driver instance",
                  "Acts strictly as a DI boundary",
                  "Does not unify or proxy driver APIs"
                ]
              }
            }
          }
        },

        "adapters": {
          "Maatify\\DataAdapters\\Adapters\\MySQL\\MySQLPDOAdapter": {
            "type": "class",
            "implements": [
              "Maatify\\Common\\Contracts\\Adapter\\AdapterInterface<PDO>"
            ],
            "constructor": {
              "visibility": "public",
              "args": [
                {
                  "name": "driver",
                  "type": "PDO"
                }
              ]
            },
            "methods": {
              "getDriver": {
                "visibility": "public",
                "args": [],
                "return": "object"
              }
            }
          },

          "Maatify\\DataAdapters\\Adapters\\MySQL\\MySQLDBALAdapter": {
            "type": "class",
            "implements": [
              "Maatify\\Common\\Contracts\\Adapter\\AdapterInterface<Doctrine\\DBAL\\Connection>"
            ],
            "constructor": {
              "visibility": "public",
              "args": [
                {
                  "name": "driver",
                  "type": "Doctrine\\DBAL\\Connection"
                }
              ]
            },
            "methods": {
              "getDriver": {
                "visibility": "public",
                "args": [],
                "return": "object"
              }
            }
          },

          "Maatify\\DataAdapters\\Adapters\\Redis\\RedisAdapter": {
            "type": "class",
            "implements": [
              "Maatify\\Common\\Contracts\\Adapter\\AdapterInterface<Redis>"
            ],
            "constructor": {
              "visibility": "public",
              "args": [
                {
                  "name": "driver",
                  "type": "Redis"
                }
              ]
            },
            "methods": {
              "getDriver": {
                "visibility": "public",
                "args": [],
                "return": "object"
              }
            }
          },

          "Maatify\\DataAdapters\\Adapters\\Redis\\RedisPredisAdapter": {
            "type": "class",
            "implements": [
              "Maatify\\Common\\Contracts\\Adapter\\AdapterInterface<Predis\\Client>"
            ],
            "constructor": {
              "visibility": "public",
              "args": [
                {
                  "name": "driver",
                  "type": "Predis\\Client"
                }
              ]
            },
            "methods": {
              "getDriver": {
                "visibility": "public",
                "args": [],
                "return": "object"
              }
            }
          },

          "Maatify\\DataAdapters\\Adapters\\Mongo\\MongoDatabaseAdapter": {
            "type": "class",
            "implements": [
              "Maatify\\Common\\Contracts\\Adapter\\AdapterInterface<MongoDB\\Database>"
            ],
            "constructor": {
              "visibility": "public",
              "args": [
                {
                  "name": "driver",
                  "type": "MongoDB\\Database"
                }
              ]
            },
            "methods": {
              "getDriver": {
                "visibility": "public",
                "args": [],
                "return": "object"
              }
            }
          }
        },

        "factories": {
          "Maatify\\DataAdapters\\Factories\\MySQLAdapterFactory": {
            "type": "class",
            "methods": {
              "fromPDO": {
                "visibility": "public",
                "args": [
                  {
                    "name": "pdo",
                    "type": "PDO"
                  }
                ],
                "return": "Maatify\\DataAdapters\\Adapters\\MySQL\\MySQLPDOAdapter"
              },
              "fromDBAL": {
                "visibility": "public",
                "args": [
                  {
                    "name": "connection",
                    "type": "Doctrine\\DBAL\\Connection"
                  }
                ],
                "return": "Maatify\\DataAdapters\\Adapters\\MySQL\\MySQLDBALAdapter"
              },
              "fromPDOFactory": {
                "visibility": "public",
                "args": [
                  {
                    "name": "pdoFactory",
                    "type": "callable():PDO",
                    "static_enforced": true
                  }
                ],
                "return": "Maatify\\DataAdapters\\Adapters\\MySQL\\MySQLPDOAdapter",
                "notes": [
                  "Deferred PDO creation via callable",
                  "Callable return type enforced by PHPStan"
                ]
              }
            }
          },

          "Maatify\\DataAdapters\\Factories\\RedisAdapterFactory": {
            "type": "class",
            "methods": {
              "fromRedis": {
                "visibility": "public",
                "args": [
                  {
                    "name": "redis",
                    "type": "Redis"
                  }
                ],
                "return": "Maatify\\DataAdapters\\Adapters\\Redis\\RedisAdapter"
              },
              "fromPredis": {
                "visibility": "public",
                "args": [
                  {
                    "name": "client",
                    "type": "Predis\\Client"
                  }
                ],
                "return": "Maatify\\DataAdapters\\Adapters\\Redis\\RedisPredisAdapter"
              },
              "fromRedisFactory": {
                "visibility": "public",
                "args": [
                  {
                    "name": "redisFactory",
                    "type": "callable():Redis",
                    "static_enforced": true
                  }
                ],
                "return": "Maatify\\DataAdapters\\Adapters\\Redis\\RedisAdapter"
              }
            }
          },

          "Maatify\\DataAdapters\\Factories\\MongoAdapterFactory": {
            "type": "class",
            "methods": {
              "fromDatabase": {
                "visibility": "public",
                "args": [
                  {
                    "name": "database",
                    "type": "MongoDB\\Database"
                  }
                ],
                "return": "Maatify\\DataAdapters\\Adapters\\Mongo\\MongoDatabaseAdapter"
              },
              "fromDatabaseFactory": {
                "visibility": "public",
                "args": [
                  {
                    "name": "databaseFactory",
                    "type": "callable():MongoDB\\Database",
                    "static_enforced": true
                  }
                ],
                "return": "Maatify\\DataAdapters\\Adapters\\Mongo\\MongoDatabaseAdapter"
              }
            }
          }
        },

        "exceptions": {
          "Maatify\\DataAdapters\\Exceptions\\AdapterCreationException": {
            "type": "exception",
            "extends": "RuntimeException",
            "purpose": "Typed infrastructure boundary for adapter factory failures"
          }
        }
      },

      "explicitly_absent": [
        "Environment variable access",
        "Runtime auto-detection or switching",
        "Unified database or cache APIs",
        "Repository or query abstractions",
        "Connection pooling or health checks",
        "Retry, fallback, or failover logic"
      ]
    }

  ]
}